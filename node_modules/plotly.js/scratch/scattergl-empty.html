<!DOCTYPE html>
<html>
<head>
    <title>Scattergl empty</title>
    <script src="../dist/plotly.js"></script>
    <!-- Use Plotly.js from CDN -->
    <!-- <script src="https://cdn.plot.ly/plotly-3.1.0.min.js"></script> -->
    <!-- <script src="https://cdn.plot.ly/plotly-3.0.3.min.js"></script> -->
    <!-- <script src="https://cdn.plot.ly/plotly-3.0.2.min.js"></script> -->
    <!-- <script src="https://cdn.plot.ly/plotly-3.0.1.min.js"></script> -->
    <!-- <script src="https://cdn.plot.ly/plotly-3.0.0.min.js"></script> -->
    <!-- <script src="https://cdn.plot.ly/plotly-3.0.0-rc.2.min.js"></script> -->
    <!-- <script src="https://cdn.plot.ly/plotly-2.35.3.min.js"></script> -->
    <!-- <script src="https://cdn.plot.ly/plotly-2.35.2.min.js"></script> -->
    <!-- <script src="https://cdn.plot.ly/plotly-2.35.1.min.js"></script> -->
    <!-- <script src="https://cdn.plot.ly/plotly-2.35.0.min.js"></script> -->
    <!-- <script src="https://cdn.plot.ly/plotly-2.34.0.min.js"></script> -->

</head>
<body>
    <div id="graph" style="width:800px;height:600px;"></div>
    
    <script>

        // Generate data for many scattergl traces
        const num_points = 10000;
        const num_traces = 4;

        const data = [];
        for (let i = 0; i < num_traces; i++) {
            // Generate x values (equivalent to np.arange(num_points))
            const x = Array.from({length: num_points}, (_, j) => j);

            // Generate random y values (equivalent to np.random.rand(num_points) + i)
            const y = Array.from({length: num_points}, () => Math.random() + i);

            // Generate customdata array
            const customdata = Array.from({length: num_points}, (_, j) => `Trace ${i+1} - Point ${j}`);

            // Generate labels array (only first point has label)
            const labels = Array.from({length: num_points}, (_, j) => j === 0 ? `Trace ${i+1} - Point ${j}` : "");

            const trace = {
                x: x,
                y: y,
                mode: 'lines+text',
                // mode: 'lines',
                name: `Trace ${i+1}`,
                customdata: customdata,
                text: labels,
                textposition: 'top center',
                hovertemplate: "%{customdata}<br>X: %{x}<br>Y: %{y}<extra></extra>"
            };

            data.push(trace);
        }

        const layout = {
            title: { text: `ScatterGL with ${num_traces} Traces` },
            xaxis: { title: { text: 'X' } },
            yaxis: { title: { text: 'Y' } },
        };

        const config = {};

        Plotly.newPlot('graph', data, layout, config);
    </script>
</body>
</html>